{% extends "app/layout.html" %}
{% block content %}
{% if form != None %}
    <br /><h2>Оставьте Ваш отзыв</h2><br />
    <div>
        <form method="POST">
        {% csrf_token %}
            <label for="{{ form.name.id_for_label }}">{{ form.name.label }}:</label>
            {{ form.name }}<br /><br />
            <label for="{{ form.notice.id_for_label }}">{{ form.notice.label }}:</label>
            {{ form.notice }}<br /><br />
            <label for="{{ form.email.id_for_label }}">{{ form.email.label }}:</label>
            {{ form.email }}<br /><br />
            <label for="{{ form.message.id_for_label }}">{{ form.message.label }}:</label><br />
            {{ form.message }}<br /><br />
            <input id="submit" type="submit" value="Отправить" />
        </form>
    </div>  
{% else %}
    <br /><h2>Благодарим за Ваш отзыв!</h2>
    <h3>Вы сообщили следующее:</h3>
    <ul>
    <li><span>Имя:</span> {{ data.name }}</li>
    <li><span>Получать новости сайта на e-mail:</span> {{ data.notice }}</li>
    <li><span>Ваш e-mail:</span> {{ data.email }}</li>
    <li><span>Ваш отзыв:</span> {{ data.message }}</li>
    </ul>
{% endif %}
{% endblock %}
{% block scripts %}
<script>
    function b_mouseover() {
        $('#submit').css('color', 'red');
    }
    function b_mouseout() {
        $('#submit').css('color', 'black');
    }

    $('#submit').mouseover(b_mouseover);
    $('#submit').mouseout(b_mouseout)
    /*
    function focus(input) {
        $(input).css('background-color', 'red');
    }
    function blur(input) {
        $(input).css('background-color', 'white');
    }

    var set = new Set();
    set.add('#id_name');
    set.add('#id_email');
    set.add('#id_message');

    for (let elem of set) {
        $(elem).focus($(elem).css('background-color', 'red'));
        $(elem).blur($(elem).css('background-color', 'white'));
    }
    */

    function name_focus() {
        $('#id_name').css('background-color', 'red');
    }
    function name_blur() {
        $('#id_name').css('background-color', 'white');
    }
    $('#id_name').focus(name_focus);
    $('#id_name').blur(name_blur);
    
    

    /*
    $('#id_name').focus(focus('#id_name'));
    $('#id_name').blur(blur('#id_name'));

    $('#id_email').focus(focus('#id_email'));
    $('#id_email').blur(blur('#id_email'));

    $('#id_message').focus(focus('#id_message'));
    $('#id_message').blur(blur('#id_message'));
    */
</script>
{% endblock %}